<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberGuard Academy - Phishing Awareness Training Platform</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        /* css wala part */
        :root {
            --color-white: rgba(255, 255, 255, 1);
            --color-black: rgba(0, 0, 0, 1);
            --color-cream-50: rgba(252, 252, 249, 1);
            --color-cream-100: rgba(255, 255, 253, 1);
            --color-gray-200: rgba(245, 245, 245, 1);
            --color-gray-300: rgba(167, 169, 169, 1);
            --color-gray-400: rgba(119, 124, 124, 1);
            --color-slate-500: rgba(98, 108, 113, 1);
            --color-brown-600: rgba(94, 82, 64, 1);
            --color-charcoal-700: rgba(31, 33, 33, 1);
            --color-charcoal-800: rgba(38, 40, 40, 1);
            --color-slate-900: rgba(19, 52, 59, 1);
            --color-teal-300: rgba(50, 184, 198, 1);
            --color-teal-400: rgba(45, 166, 178, 1);
            --color-teal-500: rgba(33, 128, 141, 1);
            --color-teal-600: rgba(29, 116, 128, 1);
            --color-teal-700: rgba(26, 104, 115, 1);
            --color-teal-800: rgba(41, 150, 161, 1);
            --color-red-400: rgba(255, 84, 89, 1);
            --color-red-500: rgba(192, 21, 47, 1);
            --color-orange-400: rgba(230, 129, 97, 1);
            --color-orange-500: rgba(168, 75, 47, 1);

            --color-brown-600-rgb: 94, 82, 64;
            --color-teal-500-rgb: 33, 128, 141;
            --color-slate-900-rgb: 19, 52, 59;
            --color-slate-500-rgb: 98, 108, 113;
            --color-red-500-rgb: 192, 21, 47;
            --color-red-400-rgb: 255, 84, 89;
            --color-orange-500-rgb: 168, 75, 47;
            --color-orange-400-rgb: 230, 129, 97;

            --color-bg-1: rgba(59, 130, 246, 0.08);
            --color-bg-2: rgba(245, 158, 11, 0.08);
            --color-bg-3: rgba(34, 197, 94, 0.08);
            --color-bg-4: rgba(239, 68, 68, 0.08);
            --color-bg-5: rgba(147, 51, 234, 0.08);
            --color-bg-6: rgba(249, 115, 22, 0.08);
            --color-bg-7: rgba(236, 72, 153, 0.08);
            --color-bg-8: rgba(6, 182, 212, 0.08);

            --color-background: var(--color-cream-50);
            --color-surface: var(--color-cream-100);
            --color-text: var(--color-slate-900);
            --color-text-secondary: var(--color-slate-500);
            --color-primary: var(--color-teal-500);
            --color-primary-hover: var(--color-teal-600);
            --color-primary-active: var(--color-teal-700);
            --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
            --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
            --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
            --color-border: rgba(var(--color-brown-600-rgb), 0.2);
            --color-btn-primary-text: var(--color-cream-50);
            --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
            --color-error: var(--color-red-500);
            --color-success: var(--color-teal-500);
            --color-warning: var(--color-orange-500);
            --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);

            --font-family-base: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            --font-size-xs: 11px;
            --font-size-sm: 12px;
            --font-size-base: 14px;
            --font-size-lg: 16px;
            --font-size-xl: 18px;
            --font-size-2xl: 20px;
            --font-size-3xl: 24px;
            --font-size-4xl: 30px;
            --font-weight-normal: 400;
            --font-weight-medium: 500;
            --font-weight-semibold: 600;
            --font-weight-bold: 700;

            --space-4: 4px;
            --space-8: 8px;
            --space-12: 12px;
            --space-16: 16px;
            --space-20: 20px;
            --space-24: 24px;
            --space-32: 32px;
            --space-48: 48px;
            --space-64: 64px;

            --radius-sm: 6px;
            --radius-base: 8px;
            --radius-lg: 12px;
            --radius-xl: 16px;

            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04), 0 2px 4px -1px rgba(0, 0, 0, 0.02);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.04), 0 4px 6px -2px rgba(0, 0, 0, 0.02);

            --duration-fast: 150ms;
            --duration-normal: 250ms;
            --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family-base);
            background-color: var(--color-background);
            color: var(--color-text);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--space-16);
        }

        /* Navigation */
        .navbar {
            background: var(--color-surface);
            border-bottom: 1px solid var(--color-border);
            padding: var(--space-16) 0;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--space-16);
        }

        .logo {
            font-size: var(--font-size-xl);
            font-weight: var(--font-weight-bold);
            color: var(--color-primary);
            white-space: nowrap;
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: var(--font-size-2xl);
            cursor: pointer;
            color: var(--color-primary);
        }

        .nav-links {
            display: flex;
            gap: var(--space-32);
            list-style: none;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--color-text-secondary);
            font-weight: var(--font-weight-medium);
            transition: color var(--duration-fast) var(--ease-standard);
            cursor: pointer;
            font-size: var(--font-size-base);
        }

        .nav-links a:hover, .nav-links a.active {
            color: var(--color-primary);
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-12) var(--space-24);
            border-radius: var(--radius-base);
            font-weight: var(--font-weight-medium);
            text-decoration: none;
            cursor: pointer;
            transition: all var(--duration-normal) var(--ease-standard);
            border: none;
            font-size: var(--font-size-base);
        }

        .btn--primary {
            background: var(--color-primary);
            color: var(--color-btn-primary-text);
        }

        .btn--primary:hover {
            background: var(--color-primary-hover);
        }

        .btn--secondary {
            background: var(--color-secondary);
            color: var(--color-text);
        }

        .btn--secondary:hover {
            background: var(--color-secondary-hover);
        }

        .btn--outline {
            background: transparent;
            border: 2px solid var(--color-primary);
            color: var(--color-primary);
        }

        .btn--outline:hover {
            background: var(--color-primary);
            color: var(--color-btn-primary-text);
        }

        /* Sections */
        .section {
            padding: var(--space-48) 0;
            display: none;
            margin-top: 80px;
        }

        .section.active {
            display: block;
        }

        .section--hero {
            background: linear-gradient(135deg, var(--color-bg-1), var(--color-bg-8));
            text-align: center;
            padding-top: 60px;
            padding-bottom: 60px;
            margin-top: 80px;
        }

        .hero-content h1 {
            font-size: clamp(1.8rem, 4vw, 3.5rem);
            font-weight: var(--font-weight-bold);
            margin-bottom: var(--space-24);
            background: linear-gradient(135deg, var(--color-primary), var(--color-teal-700));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-content p {
            font-size: clamp(0.95rem, 2vw, 1.125rem);
            color: var(--color-text-secondary);
            margin-bottom: var(--space-48);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: var(--space-16);
            margin: var(--space-32) 0;
        }

        .stat-card {
            background: var(--color-surface);
            padding: var(--space-16);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--color-card-border);
        }

        .stat-number {
            font-size: clamp(1.5rem, 3vw, 2.5rem);
            font-weight: var(--font-weight-bold);
            color: var(--color-primary);
        }

        .stat-label {
            color: var(--color-text-secondary);
            font-size: var(--font-size-xs);
            margin-top: var(--space-8);
        }

        .cta-buttons {
            display: flex;
            gap: var(--space-16);
            justify-content: center;
            flex-wrap: wrap;
            margin-top: var(--space-32);
        }

        /* Cards */
        .card {
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            padding: var(--space-20);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--color-card-border);
            transition: transform var(--duration-normal) var(--ease-standard), box-shadow var(--duration-normal) var(--ease-standard);
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .grid {
            display: grid;
            gap: var(--space-20);
        }

        .grid--2 {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }

        .grid--3 {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }

        .grid--4 {
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        }

        /* Progress Bar */
        .progress-container {
            background: var(--color-secondary);
            height: 8px;
            border-radius: var(--radius-base);
            margin: var(--space-16) 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--color-primary), var(--color-teal-300));
            border-radius: var(--radius-base);
            transition: width var(--duration-normal) var(--ease-standard);
        }

        /* Quiz Styles */
        .quiz-question {
            margin-bottom: var(--space-20);
        }

        .quiz-options {
            list-style: none;
            padding: 0;
        }

        .quiz-option {
            background: var(--color-surface);
            margin: var(--space-8) 0;
            padding: var(--space-12);
            border-radius: var(--radius-base);
            border: 1px solid var(--color-border);
            cursor: pointer;
            transition: all var(--duration-fast) var(--ease-standard);
            word-break: break-word;
        }

        .quiz-option:hover {
            background: var(--color-bg-1);
        }

        .quiz-option.selected {
            background: var(--color-primary);
            color: var(--color-btn-primary-text);
            border-color: var(--color-primary);
        }

        .quiz-option.correct {
            background: var(--color-bg-3);
            border-color: var(--color-success);
        }

        .quiz-option.incorrect {
            background: var(--color-bg-4);
            border-color: var(--color-error);
        }

        /* Email Simulation */
        .email-container {
            background: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-lg);
            overflow: hidden;
            margin: var(--space-20) 0;
        }

        .email-header {
            background: var(--color-bg-1);
            padding: var(--space-16);
            border-bottom: 1px solid var(--color-border);
        }

        .email-field {
            margin: var(--space-8) 0;
            font-size: var(--font-size-sm);
            word-break: break-word;
        }

        .email-field strong {
            display: inline-block;
            width: 100%;
            margin-bottom: var(--space-4);
        }

        .email-body {
            padding: var(--space-20);
            line-height: 1.6;
            word-break: break-word;
            overflow-x: auto;
        }

        .warning-indicator {
            display: inline-block;
            background: var(--color-warning);
            color: white;
            padding: var(--space-4) var(--space-8);
            border-radius: var(--radius-sm);
            font-size: var(--font-size-xs);
            margin-left: var(--space-8);
            margin-top: var(--space-4);
        }

        /* Score Display */
        .score-display {
            text-align: center;
            padding: var(--space-24);
            background: var(--color-bg-1);
            border-radius: var(--radius-lg);
            margin: var(--space-20) 0;
        }

        .score-number {
            font-size: clamp(2rem, 6vw, 3.5rem);
            font-weight: var(--font-weight-bold);
            color: var(--color-primary);
        }

        /* Chart Container */
        .chart-container {
            position: relative;
            height: 300px;
            margin: var(--space-20) 0;
        }

        /* University Cases */
        .university-card {
            padding: var(--space-20);
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            border-left: 4px solid var(--color-primary);
        }

        .university-name {
            font-weight: var(--font-weight-bold);
            color: var(--color-primary);
            margin-bottom: var(--space-8);
        }

        /* Training Module */
        .module-badge {
            display: inline-block;
            background: var(--color-bg-2);
            color: var(--color-warning);
            padding: var(--space-4) var(--space-12);
            border-radius: var(--radius-base);
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-medium);
            margin-bottom: var(--space-12);
        }

        .module-progress {
            text-align: right;
            color: var(--color-text-secondary);
            font-size: var(--font-size-sm);
        }

        /* Hidden class */
        .hidden {
            display: none !important;
        }

        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid var(--color-border);
            border-radius: 50%;
            border-top-color: var(--color-primary);
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Badge */
        .badge {
            display: inline-block;
            padding: var(--space-4) var(--space-8);
            border-radius: var(--radius-base);
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-medium);
            margin: var(--space-4);
        }

        .badge--success {
            background: var(--color-bg-3);
            color: var(--color-success);
        }

        .badge--warning {
            background: var(--color-bg-2);
            color: var(--color-warning);
        }

        .badge--error {
            background: var(--color-bg-4);
            color: var(--color-error);
        }

        /* Leaderboard */
        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-12) var(--space-16);
            background: var(--color-surface);
            border-radius: var(--radius-base);
            margin: var(--space-8) 0;
            border: 1px solid var(--color-border);
            gap: var(--space-16);
        }

        .rank {
            font-weight: var(--font-weight-bold);
            color: var(--color-primary);
            min-width: 30px;
        }

        /* Form Elements */
        .form-group {
            margin-bottom: var(--space-16);
        }

        .form-label {
            display: block;
            margin-bottom: var(--space-8);
            font-weight: var(--font-weight-medium);
            color: var(--color-text);
        }

        .form-input {
            width: 100%;
            padding: var(--space-12) var(--space-16);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            background: var(--color-surface);
            color: var(--color-text);
            font-size: var(--font-size-base);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px var(--color-focus-ring);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
            }

            .nav-links {
                display: none;
                position: absolute;
                top: 70px;
                left: 0;
                right: 0;
                background: var(--color-surface);
                flex-direction: column;
                gap: var(--space-8);
                padding: var(--space-16);
                border-bottom: 1px solid var(--color-border);
            }

            .nav-links.active {
                display: flex;
            }

            .nav-links a {
                padding: var(--space-12) 0;
                border-bottom: 1px solid var(--color-border);
            }

            .logo {
                font-size: var(--font-size-lg);
            }

            .cta-buttons {
                flex-direction: column;
                gap: var(--space-12);
            }

            .btn {
                width: 100%;
                padding: var(--space-16) var(--space-20);
            }

            .hero-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .grid--2, .grid--3, .grid--4 {
                grid-template-columns: 1fr;
            }

            .section {
                padding: var(--space-24) 0;
            }

            .section--hero {
                padding-top: 40px;
                padding-bottom: 40px;
            }

            h1 {
                font-size: clamp(1.5rem, 3vw, 2rem);
            }

            h2 {
                font-size: clamp(1.3rem, 2.5vw, 1.8rem);
            }

            h3 {
                font-size: clamp(1.1rem, 2vw, 1.4rem);
            }

            .card {
                padding: var(--space-16);
            }

            .chart-container {
                height: 250px;
            }

            .email-field strong {
                display: block;
                width: 100%;
                margin-bottom: var(--space-4);
            }

            .leaderboard-item {
                flex-direction: column;
                align-items: flex-start;
            }

            .warning-indicator {
                display: block;
                margin-top: var(--space-8);
                margin-left: 0;
            }

            .container {
                padding: 0 var(--space-12);
            }
        }

        @media (max-width: 480px) {
            .hero-stats {
                grid-template-columns: 1fr;
                gap: var(--space-12);
            }

            .stat-card {
                padding: var(--space-12);
            }

            .cta-buttons {
                gap: var(--space-8);
            }

            .btn {
                padding: var(--space-12) var(--space-16);
                font-size: var(--font-size-sm);
            }

            .logo {
                font-size: var(--font-size-base);
            }

            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.2rem;
            }

            h3 {
                font-size: 1rem;
            }

            .quiz-option, .email-field, .leaderboard-item {
                padding: var(--space-12);
            }

            .card {
                padding: var(--space-12);
            }

            .chart-container {
                height: 200px;
            }

            .score-display {
                padding: var(--space-16);
            }

            .score-number {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">🛡️ CyberGuard</div>
            <button class="menu-toggle" onclick="toggleMenu()">☰</button>
            <ul class="nav-links" id="navLinks">
                <li><a href="#" onclick="showSection('home'); closeMenu()">Home</a></li>
                <li><a href="#" onclick="showSection('dashboard'); closeMenu()">Dashboard</a></li>
                <li><a href="#" onclick="showSection('training'); closeMenu()">Training</a></li>
                <li><a href="#" onclick="showSection('simulation'); closeMenu()">Simulation</a></li>
                <li><a href="#" onclick="showSection('cases'); closeMenu()">Cases</a></li>
                <li><a href="#" onclick="showSection('resources'); closeMenu()">Resources</a></li>
            </ul>
        </div>
    </nav>

    <!-- Home Section -->
    <section id="home" class="section section--hero active">
        <div class="container">
            <div class="hero-content">
                <h1>Defend Against Phishing</h1>
                <p>Learn to identify and prevent phishing attacks through our comprehensive training platform.</p>
                
                <div class="hero-stats">
                    <div class="stat-card">
                        <div class="stat-number">3.4B</div>
                        <div class="stat-label">Daily phishing emails</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">72%</div>
                        <div class="stat-label">Organizations affected</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">$4.9M</div>
                        <div class="stat-label">Average cost per attack</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">60%</div>
                        <div class="stat-label">Improvement with training</div>
                    </div>
                </div>

                <div class="cta-buttons">
                    <button class="btn btn--primary" onclick="startAssessment()">Take Assessment</button>
                    <button class="btn btn--outline" onclick="showSection('training')">Start Training</button>
                    <button class="btn btn--secondary" onclick="showSection('simulation')">Try Simulation</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Dashboard Section -->
    <section id="dashboard" class="section">
        <div class="container">
            <h2 style="margin-bottom: var(--space-24); text-align: center;">Training Effectiveness Dashboard</h2>
            
            <div class="grid grid--2" style="margin-bottom: var(--space-32);">
                <div class="card">
                    <h3 style="margin-bottom: var(--space-16);">Training Impact</h3>
                    <div class="chart-container">
                        <canvas id="trainingChart"></canvas>
                    </div>
                </div>
                
                <div class="card">
                    <h3 style="margin-bottom: var(--space-16);">Threat Statistics</h3>
                    <div class="chart-container">
                        <canvas id="threatChart"></canvas>
                    </div>
                </div>
            </div>

            <div class="grid grid--3">
                <div class="card">
                    <h3>Global Threats</h3>
                    <div style="margin: var(--space-16) 0;">
                        <div class="stat-number">1,265%</div>
                        <div class="stat-label">AI-powered attacks (2025)</div>
                    </div>
                    <div style="margin: var(--space-16) 0;">
                        <div class="stat-number">$2.7B</div>
                        <div class="stat-label">BEC losses (2024)</div>
                    </div>
                </div>
                
                <div class="card">
                    <h3>Awareness Levels</h3>
                    <div style="margin: var(--space-16) 0; font-size: var(--font-size-sm);">
                        <div class="stat-label">Students</div>
                        <div style="color: var(--color-error); margin: var(--space-4) 0;">18.6% Low</div>
                        <div style="color: var(--color-warning); margin: var(--space-4) 0;">67.4% Average</div>
                        <div style="color: var(--color-success); margin: var(--space-4) 0;">14% High</div>
                    </div>
                </div>
                
                <div class="card">
                    <h3>Training Effectiveness</h3>
                    <div style="margin: var(--space-16) 0;">
                        <div class="badge badge--error">7% Untrained</div>
                        <div class="badge badge--warning">20% Quarterly</div>
                        <div class="badge badge--success">60% Adaptive</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Training Section -->
    <section id="training" class="section">
        <div class="container">
            <h2 style="margin-bottom: var(--space-24); text-align: center;">Training Modules</h2>
            
            <div class="progress-container">
                <div class="progress-bar" id="trainingProgress" style="width: 0%;"></div>
            </div>
            <div class="module-progress" id="progressText">0 of 4 modules completed</div>

            <div class="grid grid--2" style="margin-top: var(--space-24);">
                <div class="card" id="module1">
                    <div class="module-badge">Beginner</div>
                    <h3>Phishing Fundamentals</h3>
                    <p style="margin: var(--space-12) 0; color: var(--color-text-secondary); font-size: var(--font-size-sm);">Learn to identify common phishing techniques</p>
                    <div style="margin: var(--space-16) 0;">
                        <small style="color: var(--color-text-secondary);">Duration: 15 min</small>
                    </div>
                    <button class="btn btn--primary" onclick="startModule(1)">Start Module</button>
                    <span class="badge badge--success hidden" id="module1-complete">✓ Completed</span>
                </div>

                <div class="card" id="module2">
                    <div class="module-badge">Intermediate</div>
                    <h3>Email Security</h3>
                    <p style="margin: var(--space-12) 0; color: var(--color-text-secondary); font-size: var(--font-size-sm);">Master email verification techniques</p>
                    <div style="margin: var(--space-16) 0;">
                        <small style="color: var(--color-text-secondary);">Duration: 20 min</small>
                    </div>
                    <button class="btn btn--secondary" onclick="startModule(2)" disabled>Start Module</button>
                    <span class="badge badge--success hidden" id="module2-complete">✓ Completed</span>
                </div>

                <div class="card" id="module3">
                    <div class="module-badge">Intermediate</div>
                    <h3>Social Engineering</h3>
                    <p style="margin: var(--space-12) 0; color: var(--color-text-secondary); font-size: var(--font-size-sm);">Understand manipulation tactics</p>
                    <div style="margin: var(--space-16) 0;">
                        <small style="color: var(--color-text-secondary);">Duration: 25 min</small>
                    </div>
                    <button class="btn btn--secondary" onclick="startModule(3)" disabled>Start Module</button>
                    <span class="badge badge--success hidden" id="module3-complete">✓ Completed</span>
                </div>

                <div class="card" id="module4">
                    <div class="module-badge">Advanced</div>
                    <h3>Mobile & Social Security</h3>
                    <p style="margin: var(--space-12) 0; color: var(--color-text-secondary); font-size: var(--font-size-sm);">Protect across all platforms</p>
                    <div style="margin: var(--space-16) 0;">
                        <small style="color: var(--color-text-secondary);">Duration: 20 min</small>
                    </div>
                    <button class="btn btn--secondary" onclick="startModule(4)" disabled>Start Module</button>
                    <span class="badge badge--success hidden" id="module4-complete">✓ Completed</span>
                </div>
            </div>

            <!-- Module Content -->
            <div id="moduleContent" class="hidden" style="margin-top: var(--space-32);">
                <div class="card">
                    <h3 id="moduleTitle">Module Content</h3>
                    <div id="moduleBody" style="margin: var(--space-16) 0; line-height: 1.8;">Loading...</div>
                    <div style="margin-top: var(--space-24); display: flex; gap: var(--space-12); flex-wrap: wrap;">
                        <button class="btn btn--primary" onclick="completeModule()">Complete Module</button>
                        <button class="btn btn--secondary" onclick="hideModuleContent()">Back to Modules</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Simulation Section -->
    <section id="simulation" class="section">
        <div class="container">
            <h2 style="margin-bottom: var(--space-24); text-align: center;">Phishing Email Simulation</h2>
            
            <div class="score-display">
                <div class="score-number" id="gameScore">0</div>
                <p>Current Score</p>
                <div style="margin-top: var(--space-16);">
                    <span class="badge badge--success" id="correctCount">0 Correct</span>
                    <span class="badge badge--error" id="incorrectCount" style="margin-left: var(--space-8);">0 Incorrect</span>
                </div>
            </div>

            <div id="emailSimulation">
                <div class="email-container">
                    <div class="email-header">
                        <div class="email-field">
                            <strong>From:</strong>
                            <span id="emailFrom">Loading...</span>
                            <span class="warning-indicator hidden" id="fromWarning">Suspicious</span>
                        </div>
                        <div class="email-field">
                            <strong>Subject:</strong>
                            <span id="emailSubject">Loading...</span>
                        </div>
                        <div class="email-field">
                            <strong>Type:</strong>
                            <span id="emailType" class="badge">Unknown</span>
                        </div>
                    </div>
                    <div class="email-body" id="emailBody">Loading email...</div>
                </div>

                <div style="text-align: center; margin: var(--space-20) 0; display: flex; gap: var(--space-12); justify-content: center; flex-wrap: wrap;">
                    <button class="btn btn--primary" onclick="judgeEmail('safe')">✓ Safe</button>
                    <button class="btn btn--outline" onclick="judgeEmail('phishing')">⚠️ Phishing</button>
                </div>

                <div id="feedback" class="hidden card" style="margin-top: var(--space-20);">
                    <h4 id="feedbackTitle">Feedback</h4>
                    <p id="feedbackMessage" style="margin: var(--space-12) 0;">Loading feedback...</p>
                    <div id="warningSignsList"></div>
                    <button class="btn btn--secondary" onclick="nextEmail()" style="margin-top: var(--space-16);">Next Email</button>
                </div>
            </div>

            <!-- Leaderboard -->
            <div class="card" style="margin-top: var(--space-32);">
                <h3>Leaderboard</h3>
                <div id="leaderboard" style="margin-top: var(--space-16);">
                    <div class="leaderboard-item">
                        <div><span class="rank">1.</span> Tushar</div>
                        <div>95 points</div>
                    </div>
                    <div class="leaderboard-item">
                        <div><span class="rank">2.</span> Bobby</div>
                        <div>87 points</div>
                    </div>
                    <div class="leaderboard-item">
                        <div><span class="rank">3.</span> Your Score</div>
                        <div><span id="yourRank">0 points</span></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Case Studies Section -->
    <section id="cases" class="section">
        <div class="container">
            <h2 style="margin-bottom: var(--space-24); text-align: center;">University Case Studies</h2>
            <p style="text-align: center; color: var(--color-text-secondary); margin-bottom: var(--space-32); max-width: 600px; margin-left: auto; margin-right: auto; font-size: var(--font-size-sm);">Learn from successful phishing awareness campaigns by leading universities.</p>
            
            <div class="grid grid--2">
                <div class="university-card">
                    <div class="university-name">Stanford University</div>
                    <h4>Phishing Awareness Program</h4>
                    <p style="margin: var(--space-12) 0; font-size: var(--font-size-sm);">Simulated phishing emails and user training integrated into the curriculum.</p>
                    <div style="margin-top: var(--space-12); font-size: var(--font-size-sm);">
                        <strong>Approach:</strong> Simulated emails<br>
                        <strong>Target:</strong> Students & staff<br>
                        <a href="https://uit.stanford.edu/service/phishingawareness" target="_blank" class="btn btn--secondary" style="margin-top: var(--space-12);">Learn More</a>
                    </div>
                </div>

                <div class="university-card">
                    <div class="university-name">University of Utah</div>
                    <h4>Cybersecurity Awareness Campaign</h4>
                    <p style="margin: var(--space-12) 0; font-size: var(--font-size-sm);">Regular simulated phishing exercises and online training programs.</p>
                    <div style="margin-top: var(--space-12); font-size: var(--font-size-sm);">
                        <strong>Approach:</strong> Regular exercises<br>
                        <strong>Scope:</strong> Employees to students<br>
                        <a href="https://security.it.utah.edu/awareness-efforts.php" target="_blank" class="btn btn--secondary" style="margin-top: var(--space-12);">Learn More</a>
                    </div>
                </div>

                <div class="university-card">
                    <div class="university-name">San Francisco State</div>
                    <h4>Security Awareness Campaign</h4>
                    <p style="margin: var(--space-12) 0; font-size: var(--font-size-sm);">Phishing simulations with response analysis for continuous improvement.</p>
                    <div style="margin-top: var(--space-12); font-size: var(--font-size-sm);">
                        <strong>Focus:</strong> Response analysis<br>
                        <strong>Method:</strong> Continuous improvement<br>
                        <a href="https://its.sfsu.edu/content/securityawarenesscampaignsummary" target="_blank" class="btn btn--secondary" style="margin-top: var(--space-12);">Learn More</a>
                    </div>
                </div>

                <div class="university-card">
                    <div class="university-name">University of Padua</div>
                    <h4>Antiphishing Campaign</h4>
                    <p style="margin: var(--space-12) 0; font-size: var(--font-size-sm);">Custom email templates with internal experiments for vigilance measurement.</p>
                    <div style="margin-top: var(--space-12); font-size: var(--font-size-sm);">
                        <strong>Approach:</strong> Custom templates<br>
                        <strong>Focus:</strong> Vigilance measurement<br>
                        <a href="https://spritz.math.unipd.it/projects/antiphishing/" target="_blank" class="btn btn--secondary" style="margin-top: var(--space-12);">Learn More</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Assessment Section -->
    <section id="assessment" class="section">
        <div class="container">
            <h2 style="margin-bottom: var(--space-24); text-align: center;">Phishing Awareness Assessment</h2>
            
            <div class="card" style="max-width: 800px; margin: 0 auto;">
                <div id="assessmentContent">
                    <h3 id="questionTitle">Question 1 of 10</h3>
                    <div class="progress-container">
                        <div class="progress-bar" id="assessmentProgress" style="width: 10%;"></div>
                    </div>
                    
                    <div class="quiz-question">
                        <h4 id="currentQuestion">Loading question...</h4>
                        <ul class="quiz-options" id="questionOptions"></ul>
                    </div>
                    
                    <div style="text-align: center; margin-top: var(--space-24); display: flex; gap: var(--space-12); justify-content: center; flex-wrap: wrap;">
                        <button class="btn btn--primary" onclick="submitAnswer()" id="submitBtn" disabled>Submit Answer</button>
                        <button class="btn btn--secondary" onclick="nextQuestion()" id="nextBtn" style="display: none;">Next Question</button>
                    </div>
                    
                    <div id="questionFeedback" class="hidden" style="margin-top: var(--space-20); padding: var(--space-16); background: var(--color-bg-1); border-radius: var(--radius-base);">
                        <p id="feedbackText"></p>
                    </div>
                </div>
                
                <div id="assessmentResults" class="hidden" style="text-align: center;">
                    <h3>Assessment Complete!</h3>
                    <div class="score-display">
                        <div class="score-number" id="finalScore">0</div>
                        <p>out of 10 correct</p>
                    </div>
                    
                    <div id="performanceLevel" style="margin: var(--space-20) 0;"></div>
                    
                    <div style="margin-top: var(--space-24); display: flex; gap: var(--space-12); justify-content: center; flex-wrap: wrap;">
                        <button class="btn btn--primary" onclick="showSection('training')">Start Training</button>
                        <button class="btn btn--secondary" onclick="restartAssessment()">Retake Assessment</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Resources Section -->
    <section id="resources" class="section">
        <div class="container">
            <h2 style="margin-bottom: var(--space-24); text-align: center;">Resources & Materials</h2>
            
            <div class="grid grid--3">
                <div class="card">
                    <h3>📋 Quick Reference</h3>
                    <p style="margin: var(--space-12) 0; color: var(--color-text-secondary); font-size: var(--font-size-sm);">Essential checklists and guides</p>
                    <ul style="margin: var(--space-12) 0 var(--space-16) var(--space-20); font-size: var(--font-size-sm);">
                        <li>Red Flags Checklist</li>
                        <li>URL Verification Guide</li>
                        <li>Reporting Procedures</li>
                    </ul>
                    <button class="btn btn--secondary">Download</button>
                </div>
                
                <div class="card">
                    <h3>🎯 Best Practices</h3>
                    <p style="margin: var(--space-12) 0; color: var(--color-text-secondary); font-size: var(--font-size-sm);">Proven security strategies</p>
                    <ul style="margin: var(--space-12) 0 var(--space-16) var(--space-20); font-size: var(--font-size-sm);">
                        <li>2FA Setup</li>
                        <li>Password Security</li>
                        <li>Safe Browsing</li>
                    </ul>
                    <button class="btn btn--secondary">View</button>
                </div>
                
                <div class="card">
                    <h3>🚨 Incident Response</h3>
                    <p style="margin: var(--space-12) 0; color: var(--color-text-secondary); font-size: var(--font-size-sm);">What to do if compromised</p>
                    <div style="margin: var(--space-12) 0;">
                        <div class="badge badge--error">1. Don't Click</div>
                        <div class="badge badge--warning">2. Report</div>
                        <div class="badge badge--success">3. Update</div>
                    </div>
                    <button class="btn btn--primary" style="margin-top: var(--space-12);">Report</button>
                </div>
            </div>

            <div class="grid grid--2" style="margin-top: var(--space-32);">
                <div class="card">
                    <h3>📊 Attack Trends</h3>
                    <div class="chart-container">
                        <canvas id="additionalStatsChart"></canvas>
                    </div>
                </div>
                
                <div class="card">
                    <h3>🔗 External Resources</h3>
                    <div style="margin: var(--space-16) 0; font-size: var(--font-size-sm);">
                        <h4 style="margin: var(--space-12) 0;">Government</h4>
                        <ul style="margin-left: var(--space-16); font-size: var(--font-size-sm);">
                            <li><a href="https://www.cisa.gov/topics/cybersecurity-best-practices" target="_blank">CISA Resources</a></li>
                            <li><a href="https://www.fbi.gov" target="_blank">FBI Cyber Crime</a></li>
                        </ul>
                        
                        <h4 style="margin: var(--space-16) 0 var(--space-12);">Training</h4>
                        <ul style="margin-left: var(--space-16); font-size: var(--font-size-sm);">
                            <li><a href="https://www.sans.org" target="_blank">SANS Training</a></li>
                            <li><a href="https://www.proofpoint.com" target="_blank">Proofpoint</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer style="background: var(--color-primary); color: #fff; text-align: center; padding: 20px; font-size: 0.9rem; margin-top: 48px;">
        Made by Mohan Yadav
    </footer>
     <script>
        // Global state management
        let currentSection = 'home';
        let userProgress = {
            modulesCompleted: [],
            assessmentScore: 0,
            simulationScore: 0,
            correctAnswers: 0,
            incorrectAnswers: 0
        };
        
        // Assessment data
        let currentQuestionIndex = 0;
        let selectedAnswer = null;
        let assessmentQuestions = [
            {
                question: "What is the most common way phishing attacks are delivered?",
                options: ["Email", "Text messages", "Phone calls", "Social media"],
                correct: 0,
                explanation: "Email remains the primary delivery method for phishing attacks, accounting for over 90% of incidents."
            },
            {
                question: "Which of these is a red flag in an email?",
                options: ["Personalized greeting", "Company logo", "Urgent action required", "Professional signature"],
                correct: 2,
                explanation: "Urgent language is a common tactic used by attackers to pressure victims into quick action."
            },
            {
                question: "What should you do if you receive a suspicious email?",
                options: ["Click to investigate", "Delete immediately", "Report to IT security", "Forward to friends"],
                correct: 2,
                explanation: "Always report suspicious emails to your IT security team for proper analysis and tracking."
            },
            {
                question: "How can you verify a suspicious link without clicking it?",
                options: ["Hover over the link", "Right-click and copy", "Ask a colleague", "Google the sender"],
                correct: 0,
                explanation: "Hovering over links reveals the actual destination URL before clicking."
            },
            {
                question: "What percentage of organizations are affected by phishing attacks?",
                options: ["25%", "50%", "72%", "90%"],
                correct: 2,
                explanation: "Research shows that 72% of organizations are affected by phishing attacks annually."
            },
            {
                question: "Which domain is most likely to be suspicious?",
                options: ["company.com", "company-security.net", "company.org", "company.edu"],
                correct: 1,
                explanation: "Attackers often use similar-looking domains with additional words or different TLDs."
            },
            {
                question: "What is the average cost of a successful phishing attack?",
                options: ["$10,000", "$50,000", "$100,000", "$1,000,000"],
                correct: 2,
                explanation: "The average cost of a successful phishing attack can exceed $100,000 when considering all associated damages."
            },
            {
                question: "How much can proper training reduce phishing susceptibility?",
                options: ["25%", "40%", "60%", "75%"],
                correct: 2,
                explanation: "Adaptive security awareness training can improve reporting rates by up to 60%."
            },
            {
                question: "What is social engineering?",
                options: ["Technical hacking", "Psychological manipulation", "Network intrusion", "Malware installation"],
                correct: 1,
                explanation: "Social engineering uses psychological manipulation to trick people into divulging information."
            },
            {
                question: "Which is the safest way to access your account after receiving a security alert?",
                options: ["Click the email link", "Call the provided number", "Type the URL manually", "Reply to the email"],
                correct: 2,
                explanation: "Always navigate to websites manually by typing the URL rather than clicking email links."
            }
        ];
        
        // Simulation emails
        let simulationEmails = [
            {
                from: "security@university-portal.com",
                subject: "Urgent: Verify Your Account",
                type: "Credential Harvesting",
                body: "Your account will be suspended unless you verify your credentials immediately. Click here to verify: [Suspicious Link]",
                isPhishing: true,
                warningSigns: ["Urgent language", "Suspicious sender domain", "Generic greeting", "Pressure to act quickly"]
            },
            {
                from: "billing@legitimate-store.net",
                subject: "Invoice for Recent Purchase",
                type: "Malware Attachment",
                body: "Please find attached your invoice for the recent purchase. If you have any questions, please open the attached file for details.",
                isPhishing: true,
                warningSigns: ["Unexpected attachment", "Vague subject", "Pressure to open file"]
            },
            {
                from: "classmate@student.edu",
                subject: "Help Needed - Class Assignment",
                type: "Social Engineering",
                body: "Hey! I'm struggling with our assignment and the professor said you did really well. Could you send me your login details so I can check the submission portal? Thanks!",
                isPhishing: true,
                warningSigns: ["Requests personal info", "Creates false urgency", "Appeals to helpfulness"]
            },
            {
                from: "registrar@university.edu",
                subject: "Grade Report Available",
                type: "Legitimate",
                body: "Your official grade report for Spring 2025 is now available in the student portal. Please log in using your standard credentials to view your grades.",
                isPhishing: false,
                warningSigns: []
            }
        ];
        
        let currentEmailIndex = 0;
        
        // Module content
        let moduleContent = {
            1: {
                title: "Phishing Fundamentals",
                content: `
                    <h4>Understanding Phishing Attacks</h4>
                    <p>Phishing is a cybercrime where attackers impersonate legitimate organizations to steal sensitive information like passwords, credit card numbers, or personal data.</p>
                    
                    <h4>Common Types of Phishing</h4>
                    <ul>
                        <li><strong>Email Phishing:</strong> Fraudulent emails that appear to come from reputable sources</li>
                        <li><strong>Spear Phishing:</strong> Targeted attacks
                        <li><strong>Whaling:</strong> Attacks specifically targeting high-profile executives</li>
                        <li><strong>Smishing:</strong> Phishing attacks via SMS text messages</li>
                        <li><strong>Vishing:</strong> Voice phishing using phone calls</li>
                    </ul>
                    
                    <h4>Key Warning Signs</h4>
                    <ul>
                        <li>Urgent or threatening language</li>
                        <li>Generic greetings ("Dear Customer")</li>
                        <li>Suspicious sender addresses</li>
                        <li>Requests for sensitive information</li>
                        <li>Poor grammar and spelling</li>
                        <li>Unexpected attachments</li>
                    </ul>
                `
            },
            2: {
                title: "Email Security Best Practices",
                content: `
                    <h4>Email Verification Techniques</h4>
                    <p>Always verify the authenticity of emails before taking any action, especially when they request sensitive information or immediate action.</p>
                    
                    <h4>Safe Email Practices</h4>
                    <ul>
                        <li><strong>Check the sender:</strong> Verify the email address matches the organization</li>
                        <li><strong>Hover over links:</strong> Preview URLs before clicking</li>
                        <li><strong>Verify independently:</strong> Contact the sender through official channels</li>
                        <li><strong>Use two-factor authentication:</strong> Add an extra layer of security</li>
                        <li><strong>Keep software updated:</strong> Install security patches promptly</li>
                    </ul>
                    
                    <h4>Red Flag Checklist</h4>
                    <ul>
                        <li>✓ Does the email create urgency?</li>
                        <li>✓ Is the sender address suspicious?</li>
                        <li>✓ Are there spelling/grammar errors?</li>
                        <li>✓ Does it request sensitive information?</li>
                        <li>✓ Are there unexpected attachments?</li>
                    </ul>
                `
            },
            3: {
                title: "Social Engineering Awareness",
                content: `
                    <h4>Understanding Social Engineering</h4>
                    <p>Social engineering exploits human psychology rather than technical vulnerabilities. Attackers manipulate emotions and trust to deceive victims.</p>
                    
                    <h4>Common Manipulation Tactics</h4>
                    <ul>
                        <li><strong>Authority:</strong> Impersonating figures of authority</li>
                        <li><strong>Urgency:</strong> Creating time pressure for quick decisions</li>
                        <li><strong>Fear:</strong> Threatening negative consequences</li>
                        <li><strong>Curiosity:</strong> Using intriguing subject lines or content</li>
                        <li><strong>Helpfulness:</strong> Appealing to desire to help others</li>
                        <li><strong>Greed:</strong> Offering rewards or prizes</li>
                    </ul>
                    
                    <h4>Defense Strategies</h4>
                    <ul>
                        <li>Take time to think before acting</li>
                        <li>Verify requests through independent channels</li>
                        <li>Be skeptical of unsolicited contact</li>
                        <li>Trust your instincts if something feels wrong</li>
                        <li>Maintain awareness of current scam trends</li>
                    </ul>
                `
            },
            4: {
                title: "Mobile & Social Media Security",
                content: `
                    <h4>Mobile Security Threats</h4>
                    <p>Mobile devices present unique security challenges with SMS phishing, malicious apps, and public Wi-Fi risks.</p>
                    
                    <h4>Mobile Best Practices</h4>
                    <ul>
                        <li><strong>SMS Verification:</strong> Be cautious of text message links</li>
                        <li><strong>App Downloads:</strong> Only use official app stores</li>
                        <li><strong>Public Wi-Fi:</strong> Avoid sensitive activities on public networks</li>
                        <li><strong>App Permissions:</strong> Review and limit app access</li>
                        <li><strong>Device Updates:</strong> Keep OS and apps current</li>
                    </ul>
                    
                    <h4>Social Media Security</h4>
                    <ul>
                        <li>Review privacy settings regularly</li>
                        <li>Be cautious of friend requests from strangers</li>
                        <li>Limit personal information sharing</li>
                        <li>Verify suspicious messages from friends</li>
                        <li>Report and block malicious accounts</li>
                    </ul>
                `
            }
        };
        
        // Navigation functions
        function showSection(sectionId) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Update navigation
            const navLinks = document.querySelectorAll('.nav-links a');
            navLinks.forEach(link => link.classList.remove('active'));
            
            // Find and activate corresponding nav link
            const activeLink = document.querySelector(`[onclick="showSection('${sectionId}')"]`);
            if (activeLink) activeLink.classList.add('active');
            
            currentSection = sectionId;
            
            // Initialize section-specific content
            if (sectionId === 'dashboard') {
                initializeDashboard();
            } else if (sectionId === 'simulation') {
                initializeSimulation();
            }
        }
        
        // Navigation menu toggle for mobile
        function toggleMenu() {
            document.getElementById('navLinks').classList.toggle('active');
        }
        function closeMenu() {
            document.getElementById('navLinks').classList.remove('active');
        }

        // Dashboard initialization
        function initializeDashboard() {
            // Initialize threat landscape chart
            const ctx = document.getElementById('threatChart');
            if (ctx && !ctx.chart) {
                ctx.chart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Phishing Emails', 'Clean Emails', 'Spam', 'Malware'],
                        datasets: [{
                            data: [1.2, 85.3, 11.8, 1.7],
                            backgroundColor: ['#FF5459', '#218180', '#E6816E', '#A84A2F']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Global Email Distribution (%)',
                                font: { size: 16, weight: 'bold' }
                            },
                            legend: {
                                position: 'bottom'
                            }
                        }
                    }
                });
            }
        }
        
        // Training functions
        function startModule(moduleNum) {
            const moduleContent = getModuleContent(moduleNum);
            document.getElementById('moduleTitle').textContent = moduleContent.title;
            document.getElementById('moduleBody').innerHTML = moduleContent.content;
            document.getElementById('moduleContent').classList.remove('hidden');
            
            // Store current module
            window.currentModule = moduleNum;
        }
        
        function getModuleContent(moduleNum) {
            return moduleContent[moduleNum] || {
                title: "Module Not Found",
                content: "<p>This module is not available.</p>"
            };
        }
        
        function completeModule() {
            const moduleNum = window.currentModule;
            if (moduleNum && !userProgress.modulesCompleted.includes(moduleNum)) {
                userProgress.modulesCompleted.push(moduleNum);
                document.getElementById(`module${moduleNum}-complete`).classList.remove('hidden');
                if (moduleNum < 4) {
                    const nextButton = document.querySelector(`#module${moduleNum + 1} button`);
                    nextButton.disabled = false;
                    nextButton.classList.remove('btn--secondary');
                    nextButton.classList.add('btn--primary');
                }
                updateTrainingProgress();
            }
            hideModuleContent();
        }
        
        function hideModuleContent() {
            document.getElementById('moduleContent').classList.add('hidden');
        }
        
        function updateTrainingProgress() {
            const completed = userProgress.modulesCompleted.length;
            const progress = (completed / 4) * 100;
            document.getElementById('trainingProgress').style.width = progress + '%';
            document.getElementById('progressText').textContent = `${completed} of 4 modules completed`;
        }
        
        // Assessment functions
        function startAssessment() {
            showSection('assessment');
            currentQuestionIndex = 0;
            userProgress.assessmentScore = 0;
            document.getElementById('assessmentContent').classList.remove('hidden');
            document.getElementById('assessmentResults').classList.add('hidden');
            loadQuestion();
        }
        
        function loadQuestion() {
            const question = assessmentQuestions[currentQuestionIndex];
            document.getElementById('questionTitle').textContent = `Question ${currentQuestionIndex + 1} of ${assessmentQuestions.length}`;
            document.getElementById('currentQuestion').textContent = question.question;
            
            const optionsContainer = document.getElementById('questionOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const li = document.createElement('li');
                li.className = 'quiz-option';
                li.textContent = option;
                li.onclick = () => selectAnswer(index);
                optionsContainer.appendChild(li);
            });
            
            // Update progress
            const progress = ((currentQuestionIndex + 1) / assessmentQuestions.length) * 100;
            document.getElementById('assessmentProgress').style.width = progress + '%';
            
            // Reset UI
            selectedAnswer = null;
            document.getElementById('submitBtn').disabled = true;
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('questionFeedback').classList.add('hidden');
        }
        
        function selectAnswer(index) {
            // Remove previous selection
            document.querySelectorAll('.quiz-option').forEach(opt => opt.classList.remove('selected'));
            
            // Add selection
            document.querySelectorAll('.quiz-option')[index].classList.add('selected');
            selectedAnswer = index;
            document.getElementById('submitBtn').disabled = false;
        }
        
        function submitAnswer() {
            if (selectedAnswer === null) return;
            
            const question = assessmentQuestions[currentQuestionIndex];
            const isCorrect = selectedAnswer === question.correct;
            
            if (isCorrect) {
                userProgress.assessmentScore++;
            }
            
            // Show feedback
            const options = document.querySelectorAll('.quiz-option');
            options[question.correct].classList.add('correct');
            if (!isCorrect) {
                options[selectedAnswer].classList.add('incorrect');
            }
            
            document.getElementById('feedbackText').innerHTML = `
                <strong>${isCorrect ? 'Correct!' : 'Incorrect.'}</strong><br>
                ${question.explanation}
            `;
            document.getElementById('questionFeedback').classList.remove('hidden');
            
            // Update buttons
            document.getElementById('submitBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'inline-block';
        }
        
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex < assessmentQuestions.length) {
                loadQuestion();
                document.getElementById('submitBtn').style.display = 'inline-block';
            } else {
                showAssessmentResults();
            }
        }
        
        function showAssessmentResults() {
            document.getElementById('assessmentContent').classList.add('hidden');
            document.getElementById('assessmentResults').classList.remove('hidden');
            document.getElementById('finalScore').textContent = userProgress.assessmentScore;
            
            const percentage = (userProgress.assessmentScore / assessmentQuestions.length) * 100;
            const performanceLevel = document.getElementById('performanceLevel');
            
            if (percentage >= 80) {
                performanceLevel.innerHTML = '<div class="badge badge--success">Excellent! You have strong phishing awareness.</div>';
                performanceLevel.innerHTML = '<div class="badge badge--warning">Good job! Consider additional training for improvement.</div>';
            } else {
                performanceLevel.innerHTML = '<div class="badge badge--error">Training recommended. Please complete our modules.</div>';
            }
        }
        
        function restartAssessment() {
            startAssessment();
        }
        
        // Simulation functions
        function initializeSimulation() {
            loadSimulationEmail();
            updateSimulationScore();
        }
        
        function loadSimulationEmail() {
            if (currentEmailIndex >= simulationEmails.length) {
                currentEmailIndex = 0;
            }
            
            const email = simulationEmails[currentEmailIndex];
            document.getElementById('emailFrom').textContent = email.from;
            document.getElementById('emailSubject').textContent = email.subject;
            document.getElementById('emailType').textContent = email.type;
            document.getElementById('emailBody').textContent = email.body;
            
            // Show warning indicators for suspicious elements
            const fromWarning = document.getElementById('fromWarning');
            if (email.isPhishing && email.warningSigns.includes('Suspicious sender domain')) {
                fromWarning.classList.remove('hidden');
            } else {
                fromWarning.classList.add('hidden');
            }
            
            // Hide feedback
            document.getElementById('feedback').classList.add('hidden');
        }
        
        function judgeEmail(judgment) {
            const email = simulationEmails[currentEmailIndex];
            const isCorrect = (judgment === 'phishing' && email.isPhishing) || 
                             (judgment === 'safe' && !email.isPhishing);
            
            if (isCorrect) {
                userProgress.correctAnswers++;
                userProgress.simulationScore += 10;
            } else {
                userProgress.incorrectAnswers++;
            }
            
            // Show feedback
            const feedbackTitle = document.getElementById('feedbackTitle');
            const feedbackMessage = document.getElementById('feedbackMessage');
            const warningSignsList = document.getElementById('warningSignsList');
            
            if (isCorrect) {
                feedbackTitle.innerHTML = '✅ Correct!';
                feedbackTitle.style.color = 'var(--color-success)';
            } else {
                feedbackTitle.innerHTML = '❌ Incorrect';
                feedbackTitle.style.color = 'var(--color-error)';
            }
            
            if (email.isPhishing) {
                feedbackMessage.textContent = 'This email was a phishing attempt.';
                if (email.warningSigns.length > 0) {
                    warningSignsList.innerHTML = `
                        <h5>Warning Signs:</h5>
                        <ul>${email.warningSigns.map(sign => `<li>${sign}</li>`).join('')}</ul>
                    `;
                }
            } else {
                feedbackMessage.textContent = 'This was a legitimate email.';
                warningSignsList.innerHTML = '<p>No warning signs detected in this email.</p>';
            }
            
            document.getElementById('feedback').classList.remove('hidden');
            updateSimulationScore();
        }
        
        function nextEmail() {
            currentEmailIndex++;
            loadSimulationEmail();
        }
        
        function updateSimulationScore() {
            document.getElementById('gameScore').textContent = userProgress.simulationScore;
            document.getElementById('correctCount').textContent = userProgress.correctAnswers + ' Correct';
            document.getElementById('incorrectCount').textContent = userProgress.incorrectAnswers + ' Incorrect';
            document.getElementById('yourRank').textContent = userProgress.simulationScore + ' points';
        }
        
        // Resources initialization
        function initializeResources() {
            // Initialize additional statistics chart
            const ctx = document.getElementById('additionalStatsChart');
            if (ctx && !ctx.chart) {
                ctx.chart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['2020', '2021', '2022', '2023', '2024'],
                        datasets: [{
                            label: 'Phishing Attacks (thousands)',
                            data: [241, 323, 455, 672, 1004],
                            backgroundColor: '#218180'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Annual Phishing Attack Trends',
                                font: { size: 16, weight: 'bold' }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }
        }
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Show resources chart when section is visited
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
                        const target = mutation.target;
                        if (target.id === 'resources' && target.classList.contains('active')) {
                            setTimeout(initializeResources, 100);
                        }
                    }
                });
            });
            
            observer.observe(document.getElementById('resources'), {
                attributes: true,
                attributeFilter: ['class']
            });
            
            // Initialize simulation on first load
            initializeSimulation();
        });
    </script>
</body>
</html>
